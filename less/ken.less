/*
fork this demo on github:
https://github.com/jkneb/street-fighter-css
A little more explanations on how it works
http://front-back.com/animate-png-sprites-with-css3-animations
*/

/*
All vendor prefixes are autogenerated by Autoprefixer
*/
.anim(@animName, @steps, @animNbr, @animParams){
  @selector: ~".@{animName}";
  @{selector} {
    animation:@animName steps(@steps) @animParams;
  }
  @keyframes @animName {
    from { background-position:0px (-@spriteHeight * (@animNbr - 1)); }
    to { background-position:-(@spriteWidth * @steps) (-@spriteHeight * (@animNbr - 1)); }
  }
}

/* element who's going to receive this class will be mirrored */
.flip { transform:scaleX(-1); }

/* sprite tile dimensions */
@spriteWidth:70px;
@spriteHeight:80px;

/* ken */
.ken {
  transform:scale(3);
  image-rendering: pixelated;
  position:absolute; bottom:112px; margin-left:150px;
  width:@spriteWidth; height:@spriteHeight;
  background-image:url('http://front-back.com/wp-content/uploads/2013/01/ken.png');
}

.stage {
  //position:absolute; top:0; width:450px; height:330px;
  //background:url('http://front-back.com/wp-content/uploads/2013/01/sf2-bg.jpg') no-repeat 0px -100px;
  //background-size:contain;
  //float:left; margin-right:20px;

  /* stance */
  .anim(@animName:stance, @steps:4, @animNbr:2, @animParams:.5s infinite);
  /* hadoken - must be declared AFTER .stance */
  .anim(@animName:hadoken, @steps:4, @animNbr:1, @animParams:.5s infinite);
  /* punch */
  .anim(@animName:punch, @steps:3, @animNbr:3, @animParams:.15s infinite);
  /* walking */
  .anim(@animName:walk, @steps:5, @animNbr:4, @animParams:.5s infinite);
  /* kick */
  .anim(@animName:kick, @steps:5, @animNbr:7, @animParams:.5s infinite);
  /* reverse kick */
  .anim(@animName:reversekick, @steps:5, @animNbr:8, @animParams:.5s infinite);
  /* kneel down */
  .anim(@animName:kneel, @steps:1, @animNbr:10, @animParams:.2s infinite);
}
